import{V as i}from"./vue-DkJ1Kgzj-v4.3.1.js";import{V as e}from"./VariationMixin-8gygCOU9-v4.3.1.js";import{t}from"./Toaster-euwuEYDO-v4.3.1.js";import"./vuedraggable-BZdCgZZv-v4.3.1.js";import"./blueimp-md5-ClWCTRan-v4.3.1.js";import"./sortablejs-Dy36omXk-v4.3.1.js";import"./Errors-Dscm1BJ0-v4.3.1.js";import"./@melloware-BTYRaMki-v4.3.1.js";import"./vue-toast-notification-KMO5b-nv-v4.3.1.js";new i({el:"#app",mixins:[e],created(){this.form=this.prepareFormData(NiceShop.data.variation)},mounted(){this.initColorPicker()},methods:{prepareFormData(r){return r.uid=this.uid(),r.values.forEach(s=>{s.uid=this.uid()}),r},submit(){this.formSubmitting=!0,$.ajax({type:"PUT",url:route("admin.variations.update",this.form.id),data:this.transformData(this.form),dataType:"json",success:r=>{t(r.message,{type:"success"}),this.errors.reset()}}).catch(r=>{t(r.responseJSON.message,{type:"default"}),this.errors.reset(),this.errors.record(r.responseJSON.errors),this.focusFirstErrorField(this.$refs.form.elements)}).always(()=>{this.formSubmitting=!1})}}});
