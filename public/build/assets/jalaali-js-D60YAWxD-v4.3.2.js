var W={toJalaali:C,toGregorian:k,isValidJalaaliDate:O,isLeapJalaaliYear:m,jalaaliMonthLength:w,jalCal:j,j2d:v,d2j:h,g2d:D,d2g:J,jalaaliToDateObject:L,jalaaliWeek:M},g=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function C(a,r,e){return Object.prototype.toString.call(a)==="[object Date]"&&(e=a.getDate(),r=a.getMonth()+1,a=a.getFullYear()),h(D(a,r,e))}function k(a,r,e){return J(v(a,r,e))}function O(a,r,e){return a>=-61&&a<=3177&&r>=1&&r<=12&&e>=1&&e<=w(a,r)}function m(a){return G(a)===0}function w(a,r){return r<=6?31:r<=11||m(a)?30:29}function G(a){var r=g.length,e=g[0],n,l,f,u,t;if(a<e||a>=g[r-1])throw new Error("Invalid Jalaali year "+a);for(t=1;t<r&&(n=g[t],l=n-e,!(a<n));t+=1)e=n;return u=a-e,l-u<6&&(u=u-l+i(l+4,33)*33),f=o(o(u+1,33)-1,4),f===-1&&(f=4),f}function j(a,r){var e=g.length,n=a+621,l=-14,f=g[0],u,t,d,b,s,c,p;if(a<f||a>=g[e-1])throw new Error("Invalid Jalaali year "+a);for(p=1;p<e&&(u=g[p],t=u-f,!(a<u));p+=1)l=l+i(t,33)*8+i(o(t,33),4),f=u;return c=a-f,l=l+i(c,33)*8+i(o(c,33)+3,4),o(t,33)===4&&t-c===4&&(l+=1),b=i(n,4)-i((i(n,100)+1)*3,4)-150,s=20+l-b,r?{gy:n,march:s}:(t-c<6&&(c=c-t+i(t+4,33)*33),d=o(o(c+1,33)-1,4),d===-1&&(d=4),{leap:d,gy:n,march:s})}function v(a,r,e){var n=j(a,!0);return D(n.gy,3,n.march)+(r-1)*31-i(r,7)*(r-7)+e-1}function h(a){var r=J(a).gy,e=r-621,n=j(e,!1),l=D(r,3,n.march),f,u,t;if(t=a-l,t>=0){if(t<=185)return u=1+i(t,31),f=o(t,31)+1,{jy:e,jm:u,jd:f};t-=186}else e-=1,t+=179,n.leap===1&&(t+=1);return u=7+i(t,30),f=o(t,30)+1,{jy:e,jm:u,jd:f}}function D(a,r,e){var n=i((a+i(r-8,6)+100100)*1461,4)+i(153*o(r+9,12)+2,5)+e-34840408;return n=n-i(i(a+100100+i(r-8,6),100)*3,4)+752,n}function J(a){var r,e,n,l,f;return r=4*a+139361631,r=r+i(i(4*a+183187720,146097)*3,4)*4-3908,e=i(o(r,1461),4)*5+308,n=i(o(e,153),5)+1,l=o(i(e,153),12)+1,f=i(r,1461)-100100+i(8-l,6),{gy:f,gm:l,gd:n}}function M(a,r,e){var n=L(a,r,e).getDay(),l=n==6?0:-(n+1),f=6+l;return{saturday:h(v(a,r,e+l)),friday:h(v(a,r,e+f))}}function L(a,r,e,n,l,f,u){var t=k(a,r,e);return new Date(t.gy,t.gm-1,t.gd,n||0,l||0,f||0,u||0)}function i(a,r){return~~(a/r)}function o(a,r){return a-~~(a/r)*r}export{W as j};
